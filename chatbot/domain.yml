version: '2.0'

intents:
- login
- project_name
- new_project
- continue_project
- list_projects
- architecture_from_requirements
- greeting
#- usability
#- get_recomendation
#- stop
#- availability
#- fault_tolerance
#- maintainability
#- performance
#- scalability
#- security
#- portability
#- interoperability
- nlu_fallback

entities:
  - started_project
  - email
  - project
  - project_id

slots:
  requirements:
    type: list
    initial_value:
    - 0
    - 0
    - 0
    - 0
    - 0
    - 0
    - 0
    - 0
    - 0
    influence_conversation: true

  email:
    type: text
    influence_conversation: false
  
  project:
    type: text
    influence_conversation: true

  project_id:
    type: text
    influence_conversation: true

  user_id:
    type: text
    influence_conversation: true

forms:
  register_form:
    email:
    - type: from_entity
      entity: email
      intent: login
    project:
    - type: from_entity
      entity: project
      intent: project_name
  continue_form:
    email:
    - type: from_entity
      entity: email
      intent: login
    project_id:
    - type: from_entity
      entity: project_id
      intent: continue_project #aca deberiamos tener dos caminos, uno por si lo sabe y otro por si quiere listado

rules:
- rule: mostrar los proyectos si no sabe id
  condition:
  # Condition that form is active.
  - active_loop: continue_form
  steps:
  # This unhappy path handles the case of an intent `chitchat`.
  - intent: list_projects
  - action: utter_list_projects
  # Return to form after handling the `chitchat` intent
  - action: continue_form
  - active_loop: continue_form


responses:
  utter_prueba:
  - text: hola soy una prueba
  utter_list_projects:
  - text: Bueno aca te voy a mostrar todos tus proyectos
  utter_greeting:
  - text: Buenos días, tenés un proyecto empezado o querés arrancar uno nuevo?
  - text: Buen día! Querés empezar un nuevo proyecto? O ya tenés uno?
  - text: Hola! Decime si queres arrancar un proyecto nuevo o continuar uno
  utter_waiting_requirements:
  - text: Perfecto! Anda mandando los requerimientos que tengas para el proyecto {project} y una vez que estén todos pedime los resultados
  utter_ask_email:
  - text: Cómo es tu email?
  - text: Me decís tu mail?
  utter_ask_project:
  - text: Bienvenido {email}! Cómo se llamará tu proyecto? (por favor incluí el nombre entre comillas)
  - text: Bienvenido {email}! Cuál es el nombre de tu nuevo proyecto?  (por favor incluí el nombre entre comillas)
  - text: Bienvenido {email}! Decime el nombre del proyecto nuevo  (por favor incluí el nombre entre comillas)
  utter_ask_project_id:
  - text: Bienvenido {email}! Cuál es el id de tu proyecto? Puedo mostrartelos si queres
  - text: Bienvenido {email}! Cuál es el id del proyecto en el que trabajas? Puedo mostrarte tus proyectos si lo necesitas
  - text: Bienvenido {email}! En cuál proyecto querés trabajar? Dame su id. Si no lo recordas, puedo mostrártelos

actions:
- action_list_projects
- action_attempt_login
- action_add_requirement
- action_ask_clarification
- action_show_vector

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true